<!DOCTYPE html>
<html>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<head>
<title>Recipe Assistant</title>
</head>
<body>

<img src="images/chef.jpg" height="150" width="100">

<a href="add_recipe.html">Add Recipe</a>
<div><input type="text" name="recipe_search"> <button>Search for recipe</button></div>
<button>Settings</button>

<h2>Recipe Table</h2>

<script>
$(document).ready(function() {
  $.get("https://21dzyztdnh.execute-api.us-east-1.amazonaws.com/prod/RecipeUpdate?TableName=Recipes", function(data, status) {
      var result = data["Items"];
      var count = 0;
        for (var i = 0; i < result.length; i++) {
          var ing = result[i].Ingredients.split('\n');
          var desc = result[i].Directions.split('\n');
          $("table#tbl TBody").append('<tr><td>' + '<img src=" ' + result[i].Picture + ' " width="60px" height="60px">'
            +'</td><td>'
              + result[i].RecipeName
            +'</td><td>'
              + '<img src="images/ingredients.png" onclick="toIngredientsPage(\'' + ing + '\')" width="65px" height="60px">'
            + '</td><td>'
              + '<img src="images/directions.png" onclick="toRecipePage(\'' + desc + '\')" width="80px" height="60px">'
            +'</td></tr>');
        }
    });
  });

function toIngredientsPage(ingredients) {
  sessionStorage.setItem('ingredients', ingredients);
  window.location="ingredients.html";
}

function toRecipePage(directions) {
  sessionStorage.setItem('directions', directions);
  window.location="directions.html"
}

</script>

<table id="tbl">
  <thead>
  <tr>
      <th>Picture</th>
      <th>RecipeName</th>
      <th>Ingredients</th>
      <th>Directions</th>
  </tr>
  </thead>
<tbody></tbody>
</table>



</body>
</html>
